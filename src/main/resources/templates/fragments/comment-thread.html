
<!-- fragments/comment-thread.html -->
<th:block th:fragment="comment(comment)">
  <div class="ml-4 border-l border-gray-300 pl-4">
    <div class="font-bold text-sm text-gray-800" th:text="${comment.nickname ?: 'ÏùµÎ™Ö'}"></div>
    <p class="text-gray-600 text-sm" th:text="${comment.content}">ÎÇ¥Ïö©</p>

    <div class="flex items-center gap-2 mt-1">
      <button class="reply-btn btn-xs" th:data-id="${comment.id}">ÎãµÍ∏Ä</button>
    </div>

    <div class="reply-form-container" th:id="'reply-form-' + ${comment.id}" style="display:none;">
      <textarea class="reply-content" name="reply-content"></textarea>
      <button class="submit-reply-btn btn-sm" th:data-parent-id="${comment.id}">Îì±Î°ù</button>
    </div>

    <!-- üåÄ Ïû¨Í∑ÄÏ†ÅÏúºÎ°ú replies Ï∂úÎ†• -->
    <div th:if="${#lists.size(comment.replies) > 0}">
      <th:block th:each="child : ${comment.replies}">
        <th:block th:replace="~{fragments/comment-thread :: comment(${child})}"/>
      </th:block>
    </div>
  </div>
</th:block>