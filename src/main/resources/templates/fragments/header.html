<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Insert title here</title>
</head>
<body>
<header th:fragment="header">
    <!-- Navigation -->
    <div class="navbar bg-base-100/90 backdrop-blur-md shadow-lg">
        <div class="navbar-start">
            <a href="/" class="btn btn-ghost text-xl">
                <i class="fas fa-home mr-2"></i>
                <span class="font-bold">Home</span>
            </a>
        </div>
        <div class="navbar-center">
            <!-- 로그인하지 않은 상태 -->
            <span th:if="${session.user == null}" class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">
                책방에 오신걸 환영합니다.
            </span>
            
            <!-- 로그인한 상태 -->
            <span th:if="${session.user != null}" class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">
                <span th:text="${session.user.nickname + '님 반갑습니다'}">닉네임님 반갑습니다</span>
            </span>
        </div>
        <div class="navbar-end">
            <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
                    <i class="fas fa-user text-lg"></i>
                </div>
                
                <!-- 로그인하지 않은 상태 -->
                <ul th:if="${session.user == null}" tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="/user/login"><i class="fas fa-sign-in-alt mr-2"></i>로그인</a></li>
                    <li><a href="/user/sign_up"><i class="fas fa-user-plus mr-2"></i>회원가입</a></li>
                </ul>
                
                <!-- 로그인한 상태 -->
                <ul th:if="${session.user != null}" tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li class="menu-title">
                        <span th:text="${session.user.nickname + '님'}">사용자님</span>
                    </li>
                    <li><a href="/user/update"><i class="fas fa-user-edit mr-2"></i>프로필 수정</a></li>
                    <li><a href="/post/list"><i class="fas fa-list mr-2"></i>게시판</a></li>
                    <li><hr class="my-1"></li>
                    <li><a href="/user/logout"><i class="fas fa-sign-out-alt mr-2"></i>로그아웃</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>
</body>
</html>